<div class="dashboard-container">
    <nav class="breadcrumb">
        <i class="fa fa-chevron-right"></i> <span>Help Requests</span>
    </nav>
    <header class="dashboard-header">
        <h1>Help Requests</h1>
        <div class="actions-bar">
            <input type="search" placeholder="Search requests..." class="search-input">
        </div>
    </header>

    <!-- Stats Overview Cards -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-ticket-alt"></i>
            </div>
            <div class="stat-content">
                <h3>Total Requests</h3>
                <h2>{{totalRequests || 0}}</h2>
                <p class="trend">+12% from last month</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-content">
                <h3>Pending</h3>
                <h2>{{pendingRequests || 0}}</h2>
                <p class="trend">Current active requests</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-content">
                <h3>Resolved</h3>
                <h2>{{resolvedRequests || 0}}</h2>
                <p class="trend">This month</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-stopwatch"></i>
            </div>
            <div class="stat-content">
                <h3>Avg. Response Time</h3>
                <h2>{{avgResponseTime || '0h'}}</h2>
                <p class="trend">Last 7 days</p>
            </div>
        </div>
    </div>

    <!-- Recent Requests Cards -->
    <div class="requests-container">
        <h2>Recent Help Requests</h2>
        <div class="requests-grid">
            <div class="request-card" *ngFor="let request of helpRequests">
                <div class="request-header">
                    <span class="request-id">#{{request.id}}</span>
                    <div class="status-dropdown">
                        <select [value]="request.status" (change)="updateStatus(request.id, $event)">
                            <option value="PENDING">Pending</option>
                            <option value="IN_PROGRESS">In Progress</option>
                            <option value="RESOLVED">Resolved</option>
                        </select>
                    </div>
                </div>
                <div class="request-body">
                    <div class="user-info">
                        <i class="fas fa-user-circle"></i>
                        <span>{{request.userName}}</span>
                    </div>
                    <h3 class="request-subject">{{request.subject}}</h3>
                    <div class="request-date">
                        <i class="fas fa-calendar-alt"></i>
                        <span>{{request.date | date:'short'}}</span>
                    </div>
                </div>
                <div class="request-actions">
                    <button class="action-btn view" (click)="viewRequest(request.id)">
                        <i class="fas fa-eye"></i> View
                    </button>
                    <button class="action-btn edit" (click)="editRequest(request.id)">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>